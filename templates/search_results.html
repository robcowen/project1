{% extends "layout.html" %}

{% block title %}
    {{ title }}
{% endblock %}

{% block heading %}
    {{ title }}
{% endblock %}


{% block content %}
  <h1>Matching books</h1>
  {% if results == [] %}
  <p>
    No books matching <b>{{ search }}</b>
  </p>
  {% else %}
    <table class="table table-striped table-hover table-sm">
        <thead>
          <tr>
            <th>
              Title
            </th>
            <th>
              Author
            </th>
            <th>
              Year published
            </th>
          </tr>
        </thead>
        <tbody>
    {% for result in results %}
      <tr class="clickable-row" data-href="books/{{ result.isbn }}">
          <td>
            {{ result.title}}
          </td>
          <td>
            {{ result.author}}
          </td>
          <td>
            {{ result.year}}
          </td>
      </tr>
    {% endfor %}
    </tbody>
    </table>
  {% endif %}
<script>
  $(document).ready(function($) {
      $(".clickable-row").click(function() {
          window.location = $(this).data("href");
      });
  });
</script>
{% endblock %}
